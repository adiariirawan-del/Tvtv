<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Online Indonesia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .search-box {
            margin: 20px 0;
            text-align: center;
        }

        #searchInput {
            padding: 12px 20px;
            width: 300px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
        }

        .video-container {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            padding: 20px;
            height: 500px;
        }

        #videoPlayer {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            background: #000;
        }

        .channel-list {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            padding: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        .channel-category {
            margin-bottom: 20px;
        }

        .category-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #fdbb2d;
            padding-bottom: 5px;
            border-bottom: 2px solid #fdbb2d;
        }

        .channel-item {
            padding: 12px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .channel-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .channel-item.active {
            background: #fdbb2d;
            color: #000;
        }

        .channel-logo {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .loading {
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
        }

        .error-message {
            background: #ff4444;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .video-container {
                height: 300px;
            }
            
            #searchInput {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“º TV Online Indonesia</h1>
            <p>Nonton TV secara gratis dan legal</p>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Cari channel TV...">
            </div>
        </header>

        <div class="main-content">
            <div class="video-container">
                <iframe id="videoPlayer" src="" frameborder="0" allowfullscreen></iframe>
            </div>

            <div class="channel-list" id="channelList">
                <div class="loading">Memuat channel TV...</div>
            </div>
        </div>
    </div>

    <script>
        // Data channel TV Indonesia (contoh embed links)
        const tvChannels = [
            {
                category: "TV Nasional",
                channels: [
                    {
                        name: "TVRI",
                        logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/TVRI_2022.svg/1200px-TVRI_2022.svg.png",
                        streamUrl: "https://www.youtube.com/embed/live_stream?channel=UC9vLz7F_FVhEZj9d-cYxNjg"
                    },
                    {
                        name: "RCTI",
                        logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/RCTI_%282021%29.svg/1200px-RCTI_%282021%29.svg.png",
                        streamUrl: "https://www.youtube.com/embed/live_stream?channel=UC9L-_ybhwVZET209-LViOg"
                    },
                    {
                        name: "SCTV",
                        logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/SCTV_%282015%29.svg/1200px-SCTV_%282015%29.svg.png",
                        streamUrl: "https://www.youtube.com/embed/live_stream?channel=UC9L-_ybhwVZET209-LViOg"
                    }
                ]
            },
            {
                category: "Berita",
                channels: [
                    {
                        name: "CNN Indonesia",
                        logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/CNN_Indonesia.svg/1200px-CNN_Indonesia.svg.png",
                        streamUrl: "https://www.youtube.com/embed/live_stream?channel=UC6ZQ-SuhvQAeQIR5tHJGGng"
                    },
                    {
                        name: "Kompas TV",
                        logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Kompas_TV_2015.svg/1200px-Kompas_TV_2015.svg.png",
                        streamUrl: "https://www.youtube.com/embed/live_stream?channel=UC6ZQ-SuhvQAeQIR5tHJGGng"
                    }
                ]
            },
            {
                category: "Olahraga",
                channels: [
                    {
                        name: "TV Sport",
                        logo: "https://via.placeholder.com/30x30/FF6B6B/FFFFFF?text=âš½",
                        streamUrl: "https://www.youtube.com/embed/live_stream?channel=UC6ZQ-SuhvQAeQIR5tHJGGng"
                    }
                ]
            }
        ];

        // Fungsi untuk menampilkan channel list
        function renderChannelList(channels = tvChannels) {
            const channelList = document.getElementById('channelList');
            channelList.innerHTML = '';

            if (channels.length === 0) {
                channelList.innerHTML = '<div class="error-message">Channel tidak ditemukan</div>';
                return;
            }

            channels.forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'channel-category';
                
                const categoryTitle = document.createElement('div');
                categoryTitle.className = 'category-title';
                categoryTitle.textContent = category.category;
                
                categoryDiv.appendChild(categoryTitle);
                
                category.channels.forEach((channel, index) => {
                    const channelItem = document.createElement('div');
                    channelItem.className = 'channel-item';
                    channelItem.innerHTML = `
                        <img src="${channel.logo}" alt="${channel.name}" class="channel-logo" 
                             onerror="this.src='https://via.placeholder.com/30x30/333333/FFFFFF?text=TV'">
                        <span>${channel.name}</span>
                    `;
                    
                    channelItem.addEventListener('click', () => {
                        // Remove active class from all items
                        document.querySelectorAll('.channel-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        
                        // Add active class to clicked item
                        channelItem.classList.add('active');
                        
                        // Play the channel
                        playChannel(channel.streamUrl);
                    });
                    
                    // Auto-play first channel
                    if (category.category === "TV Nasional" && index === 0) {
                        channelItem.classList.add('active');
                        playChannel(channel.streamUrl);
                    }
                    
                    categoryDiv.appendChild(channelItem);
                });
                
                channelList.appendChild(categoryDiv);
            });
        }

        // Fungsi untuk memutar channel
        function playChannel(streamUrl) {
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.src = streamUrl;
        }

        // Fungsi pencarian
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                
                if (searchTerm === '') {
                    renderChannelList(tvChannels);
                    return;
                }
                
                const filteredChannels = tvChannels.map(category => {
                    const filteredChannelsInCategory = category.channels.filter(channel => 
                        channel.name.toLowerCase().includes(searchTerm)
                    );
                    
                    return {
                        ...category,
                        channels: filteredChannelsInCategory
                    };
                }).filter(category => category.channels.length > 0);
                
                renderChannelList(filteredChannels);
            });
        }

        // Fungsi untuk menangani error
        function handleErrors() {
            window.addEventListener('error', function(e) {
                console.error('Error:', e.error);
            });
        }

        // Initialize aplikasi
        function initApp() {
            renderChannelList();
            setupSearch();
            handleErrors();
            
            // Tambahkan loading indicator
            setTimeout(() => {
                document.querySelector('.loading')?.remove();
            }, 1000);
        }

        // Jalankan aplikasi ketika DOM siap
        document.addEventListener('DOMContentLoaded', initApp);

        // Fallback untuk channel logos yang error
        window.addEventListener('error', function(e) {
            if (e.target.tagName === 'IMG' && e.target.classList.contains('channel-logo')) {
                e.target.src = 'https://via.placeholder.com/30x30/333333/FFFFFF?text=TV';
            }
        }, true);
    </script>
</body>
</html>
